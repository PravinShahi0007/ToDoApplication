function initializeJQGantt(b){var c=null;if("undefined"==typeof jQuery)alert("jQuery not loaded");else if(jQuery.ui)if(void 0==b.Id)alert("Id of the div representing the gantt is not defined.");else if(""==b.TableId)alert("TableId of the table representing the GanttTable is not defined.");else{if(""!=b.DataSourceUrl&&b.DataSourceUrl){var a={success:function(a){c=a;(a=deserializejsfunctionAndCallJSFunction(b.AfterDataRetrievedCallback,a))&&(c=a);$.holdReady(!1)},url:b.DataSourceUrl,async:!1,type:"GET",
data:b.DataSourceUrlArguments},d={cache:!1,dataType:"json",converters:{"text json":function(a){return $.parseJSON(a,!0,!0,b.DataConverterCallBack)}}};"string"===typeof b.AjaxSettings&&(b.AjaxSettings=deserializeObject(b.AjaxSettings));b.AjaxSettings&&$.extend(d,b.AjaxSettings);for(var e in a)d[e]=a[e];$.holdReady(!0);jQuery.ajax(d)}null!=b.DataSource&&void 0!=b.DataSource&&(c=b.DataSource,(a=deserializejsfunctionAndCallJSFunction(b.AfterDataRetrievedCallback,b.DataSource))&&(c=a));this.OptionsCreated=
null;var f=this;$(function(){var a="../../../Src/ResourceStrings/",d="en-US";""!=b.LocalizationResourceFilePath&&(a=b.LocalizationResourceFilePath);b.CurrentCultureName&&(d=b.CurrentCultureName);jQuery.i18n.properties({name:"RQStrings",path:a,mode:"both",language:d});a={DataSource:c};d=new deserializeGanttBaseOptions(b);this.PrepareGanttChartOptions=function(a){var b={},c;for(c in a.GanttChartOptions)switch(c){case "ResizeInfoPopupID":b.ResizeInfoPopup=$("#"+a.GanttChartOptions.ResizeInfoPopupID);
case "MovingInfoPopupID":b.MovingInfoPopup=$("#"+a.GanttChartOptions.MovingInfoPopupID);case "ConnectingInfoPopupID":b.ConnectingInfoPopup=$("#"+a.GanttChartOptions.ConnectingInfoPopupID);default:b[c]=a.GanttChartOptions[c]}delete a.GanttChartOptions;return b};var e=this.PrepareGanttChartOptions(d);$.extend(!0,a,d);deserializejsfunctionAndCallJSFunction(b.BeforeGanttWidgetInitialitionCallback);a.GanttTableRowLoadedCallBack=deserializejsfunction(b.GanttTableRowLoadedCallBack);f.OptionsCreated(a,e);
deserializejsfunctionAndCallJSFunction(b.AfterGanttWidgetInitializedCallback)});return f.CurrentOptions}else alert("jQuery UI not loaded")}function deserializejsfunctionAndCallJSFunction(b,c){if(b){var a=deserializejsfunction(b);if(a&&(a=a(c)))return a}if(null!=c)return c}function deserializejsfunction(b){if(b)return jQuery.isFunction(b)?b:deserializejsfunction(window[b])}function deserializeObject(b){if(b)return"object"===typeof b?b:deserializeObject(window[b])}
function deserializeGanttBaseOptions(b){var c=null;b.Options?(c=JSON.stringify(b.Options),c=$.parseJSON(c,!0,!0)):c=b;this.CreateHeader=function(a){var b=new RadiantQ.Gantt.TimeScaleHeaderDefinition;b.TextFormat=a.TextFormat;b.Type=a.Type;a.Name&&b.name(a.Name);b.HeaderHeight=a.HeaderHeight;a.ProvideCustomHeaderText&&b.ProvideCustomHeaderText.subscribe(window[a.ProvideCustomHeaderText]);a.ProvideCustomTimeIntervals&&b.ProvideCustomTimeIntervals.subscribe(window[a.ProvideCustomTimeIntervals]);a.CustomTimeScaleTypeHint&&
(a=a.CustomTimeScaleTypeHint,b.CustomTimeScaleTypeHint=new RadiantQ.Gantt.CustomTimeScaleTypeHint(a.EquivalentUnits,a.EquivalentType));return b};this.CreateSpl=function(a){var b=new RadiantQ.Gantt.SpecialLineInfo;b.LineDateTime=a.LineDateTime;b.LineColor=a.LineColor;b.ToolTipText=a.ToolTipText;return b};this.InitSPL=function(a){for(var b=new ObservableCollection,c=0;c<a.SpecialLineInfos.length;c++)b.add(this.CreateSpl(a.SpecialLineInfos[c]));a.SpecialLineInfos=b};this.InitTimeScalHeaders=function(a){for(var b=
new RadiantQ.Gantt.TimeScaleHeaderDefinitions,c=0;c<a.TimeScaleHeaders.length;c++)b.add(this.CreateHeader(a.TimeScaleHeaders[c]));a.TimeScaleHeaders=b};this.InitOptions=function(a){null!=a.WorkTimeSchedule&&(a.WorkTimeSchedule=eval(a.WorkTimeSchedule));a.GanttTable=$("#"+b.TableId);a.CustomChartBackgroundRanges&&(a.CustomChartBackgroundRanges=window[a.CustomChartBackgroundRanges]());a.Zoomed&&(a.Zoomed=window[a.Zoomed]);a.BeforeZooming&&(a.BeforeZooming=window[a.BeforeZooming]);a.TaskTooltipTemplateID&&
(a.TaskTooltipTemplate=$("#"+a.TaskTooltipTemplateID));a.TimeScaleHeaders&&this.InitTimeScalHeaders(a);a.SpecialLineInfos&&this.InitSPL(a)};this.InitOptions(c);return c}
function initializeJQFlexyGantt(b){(new initializeJQGantt(b)).OptionsCreated=function(c,a){var d=$("#"+b.Id);c.FlatItemsSourceCreated&&(c.FlatItemsSourceCreated=window[c.FlatItemsSourceCreated]);c.resolverFunction&&(c.resolverFunction=window[c.resolverFunction]);c.dynamicResolverFunction&&(c.dynamicResolverFunction=window[c.dynamicResolverFunction]);c.RowHeightBinding&&BindingConverterFuncStringIntoFunc(c.RowHeightBinding);c.FilterTasksByTimeRange&&(c.FilterTasksByTimeRange=window[c.FilterTasksByTimeRange]);
var e=null;c.ChartTemplateApplied&&(e=deserializejsfunction(c.ChartTemplateApplied));this.GanttChartTemplateApplied=function(b){d.data("FlexyGantt").GetGanttChart().GanttChart(a);e&&e(arguments)};c.GanttChartTemplateApplied=this.GanttChartTemplateApplied;d.FlexyGantt(c)}}function BindingConverterFuncStringIntoFunc(b){if(b.Converter){var c=window[b.Converter];$.isFunction(c)||(c=eval(b.Converter));b.Convert=c;b.Converter=c}}
function initializeJQProjectGantt(b){var c=new initializeJQGantt(b);deserializeProjectGanttOptions=function(a){a.FlatActivitiesListCreated&&(a.FlatActivitiesListCreated=window[a.FlatActivitiesListCreated]);a.FilterActivites&&(a.FilterActivites=window[a.FilterActivites]);var b="CustomSchedule";a.SortOrderBinding&&BindingConverterFuncStringIntoFunc(a.SortOrderBinding);a.NameBinding&&BindingConverterFuncStringIntoFunc(a.NameBinding);a.IDBinding&&BindingConverterFuncStringIntoFunc(a.IDBinding);a.IndentLevelBinding&&
BindingConverterFuncStringIntoFunc(a.IndentLevelBinding);a.StartTimeBinding&&BindingConverterFuncStringIntoFunc(a.StartTimeBinding);a.PreferredStartTimeBinding&&BindingConverterFuncStringIntoFunc(a.PreferredStartTimeBinding);a.EffortBinding&&BindingConverterFuncStringIntoFunc(a.EffortBinding);a.PredecessorIndicesBinding&&BindingConverterFuncStringIntoFunc(a.PredecessorIndicesBinding);a.ProgressPercentBinding&&BindingConverterFuncStringIntoFunc(a.ProgressPercentBinding);a.DescriptionBinding&&BindingConverterFuncStringIntoFunc(a.DescriptionBinding);
a.ResourceNameBinding&&BindingConverterFuncStringIntoFunc(a.ResourceNameBinding);a.ResourceIDBinding&&BindingConverterFuncStringIntoFunc(a.ResourceIDBinding);a.IsTaskReadOnlyBinding&&BindingConverterFuncStringIntoFunc(a.IsTaskReadOnlyBinding);a.ResourceScheduleBinding&&(BindingConverterFuncStringIntoFunc(a.ResourceScheduleBinding),a.ResourceScheduleBinding.Property&&(b=a.ResourceScheduleBinding.Property));a.AssignedResourcesBinding&&BindingConverterFuncStringIntoFunc(a.AssignedResourcesBinding);if(a.ResourceItemsSource)for(var c=
0;c<a.ResourceItemsSource.length;c++){var f=a.ResourceItemsSource[c][b];if(null!=window[f]||"RadiantQ.Gantt.WorkTimeSchedule.Schedule24X5"==f||"RadiantQ.Gantt.WorkTimeSchedule.Schedule8X5"==f)a.ResourceItemsSource[c][b]=eval(a.ResourceItemsSource[c][b])}};c.OptionsCreated=function(a,c){deserializeProjectGanttOptions(a);var e=$("#"+b.Id),f=null;a.ChartTemplateApplied&&(f=deserializejsfunction(a.ChartTemplateApplied));b.OnTaskBarLoad&&(a.OnTaskBarLoad=deserializejsfunction(b.OnTaskBarLoad));this.GanttChartTemplateApplied=
function(a){(e.data("GanttControl")||e.data("radiantqGanttControl")).GetGanttChart().GanttChart(c);f&&f(arguments)};a.GanttChartTemplateApplied=this.GanttChartTemplateApplied;e.GanttControl(PrepareOptions(a))}}function PrepareOptions(b){var c="AfterDataRetrievedCallback AfterGanttWidgetInitializedCallback DataSourceUrlArguments LocalizationResourceFilePath CurrentCultureName AjaxSettings DataSourceUrl Id TableId".split(" "),a={},d;for(d in b)-1==c.indexOf(d)&&(a[d]=b[d]);return a};
